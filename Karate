Feature: Get Token and Access Resource

Background:
  * def clientId = 'your_client_id' 
  * def clientSecret = 'your_client_secret'

Scenario: Get Token
  Given url 'https://your-token-endpoint.com/token'
  And form fields
    client_id = clientId
    client_secret = clientSecret
    grant_type = 'client_credentials'
  When method POST
  Then status 200
  * def authToken = response.access_token

Scenario: Access Resource
  Given url 'https://your-api-endpoint.com/resource'
  And header Authorization = 'Bearer ' + authToken
  When method GET
  Then status 200
